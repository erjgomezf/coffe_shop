{% extends "base.html" %} {% block content %}

<div
  class="max-w-lg mx-auto mt-10 bg-white rounded-xl shadow-2xl p-10 border border-yellow-100"
>
  <h1
    class="text-2xl font-extrabold text-yellow-700 font-serif mb-8 flex items-center gap-2"
  >
    <span>➕</span>Agregar Producto
  </h1>
  <form
    action="{% url 'add_product' %}"
    method="post"
    enctype="multipart/form-data"
    class="space-y-6"
  >
    {% csrf_token %}

    <div>
      <label
        for="{{ form.name.id_for_label }}"
        class="block mb-1 text-sm font-semibold text-gray-700"
        >Nombre del Producto</label
      >
      {{ form.name }} {% for error in form.name.errors %}
      <span class="text-red-500 text-xs">{{ error }}</span>
      {% endfor %} {% if form.name.help_text %}
      <p class="text-xs mt-1 text-gray-500">{{ form.name.help_text }}</p>
      {% endif %}
    </div>

    <div class="flex gap-4">
      <div class="flex-1">
        <label
          for="{{ form.stock.id_for_label }}"
          class="block mb-1 text-sm font-semibold text-gray-700"
          >Cantidad en stock</label
        >
        {{ form.stock }} {% for error in form.stock.errors %}
        <span class="text-red-500 text-xs">{{ error }}</span>
        {% endfor %} {% if form.stock.help_text %}
        <p class="text-xs mt-1 text-gray-500">{{ form.stock.help_text }}</p>
        {% endif %}
      </div>
      <div class="flex-1">
        <label
          for="{{ form.price.id_for_label }}"
          class="block mb-1 text-sm font-semibold text-gray-700"
          >Precio</label
        >
        <div class="relative">
          <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
            >$</span
          >
          {{ form.price }}
        </div>
        {% for error in form.price.errors %}
        <span class="text-red-500 text-xs">{{ error }}</span>
        {% endfor %} {% if form.price.help_text %}
        <p class="text-xs mt-1 text-gray-500">{{ form.price.help_text }}</p>
        {% endif %}
      </div>
    </div>

    <div>
      <label
        for="{{ form.description.id_for_label }}"
        class="block mb-1 text-sm font-semibold text-gray-700"
        >Descripción del Producto</label
      >
      {{ form.description }} {% for error in form.description.errors %}
      <span class="text-red-500 text-xs">{{ error }}</span>
      {% endfor %} {% if form.description.help_text %}
      <p class="text-xs mt-1 text-gray-500">{{ form.description.help_text }}</p>
      {% endif %}
    </div>

    <div>
      <label
        for="{{ form.image.id_for_label }}"
        class="block mb-1 text-sm font-semibold text-gray-700"
        >Imagen del Producto</label
      >
      <div class="relative">
        <input
          id="file-upload"
          name="image"
          type="file"
          class="sr-only"
          onchange="document.getElementById('file-upload-label').innerText = this.files[0]?.name || 'Seleccionar archivo'"
        />
        <label
          for="file-upload"
          id="file-upload-label"
          class="cursor-pointer flex items-center justify-center bg-yellow-100 hover:bg-yellow-200 text-yellow-700 font-semibold py-2 px-4 rounded-lg shadow transition duration-200 border border-yellow-300 w-full text-center"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-2 text-yellow-600"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5-5m0 0l5 5m-5-5v12"
            />
          </svg>
          Seleccionar archivo
        </label>
      </div>
      {% for error in form.image.errors %}
      <span class="text-red-500 text-xs">{{ error }}</span>
      {% endfor %} {% if form.image.help_text %}
      <p class="text-xs mt-1 text-gray-500">{{ form.image.help_text }}</p>
      {% endif %}
    </div>

    <button
      type="submit"
      class="w-full bg-yellow-400 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-opacity-50"
    >
      Agregar Producto
    </button>
  </form>
</div>

{% endblock content %}
