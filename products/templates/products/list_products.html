{% extends "base.html" %} {% block content %}

<h1
  class="catalog-title text-3xl font-extrabold text-yellow-700 font-serif mb-8 text-center flex items-center gap-2 justify-center"
>
  <span>ðŸ›’</span> CatÃ¡logo de productos
</h1>

<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
  {% for product in product_list %}
  <div
    class="bg-white rounded-xl shadow-lg border border-yellow-100 flex flex-col overflow-hidden hover:shadow-2xl transition duration-200"
  >
    {% if product.image %}
    <img
      src="{{ product.image.url }}"
      alt="{{ product.name }}"
      class="w-full h-56 object-cover"
    />
    {% else %}
    <div
      class="w-full h-56 bg-gray-100 flex items-center justify-center text-gray-400"
    >
      Sin imagen
    </div>
    {% endif %}
    <div class="p-6 flex-1 flex flex-col">
      <div class="flex items-center justify-between mb-2">
        <h3 class="text-lg font-bold text-gray-900">{{ product.name }}</h3>
        <span
          class="bg-yellow-400 text-white text-base font-bold px-3 py-1 rounded-full shadow"
          >${{ product.price }}</span
        >
      </div>
      <p class="text-sm text-gray-700 mb-4 flex-1">{{ product.description }}</p>
      <form
        method="post"
        action="{% url 'create_order_product' %}"
        class="mt-auto"
      >
        {% csrf_token %}
        <input type="hidden" name="product_id" value="{{ product.id }}" />
        <button
          type="submit"
          class="w-full bg-yellow-400 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-opacity-50"
        >
          AÃ±adir al pedido
        </button>
      </form>
    </div>
  </div>
  {% endfor %}
</div>

{% endblock %}
